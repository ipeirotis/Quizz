package us.quizz.endpoints;

import javax.inject.Named;

import us.quizz.service.ExplorationExploitationService;

import com.google.api.server.spi.config.Api;
import com.google.api.server.spi.config.ApiMethod;
import com.google.api.server.spi.config.ApiMethod.HttpMethod;
import com.google.api.server.spi.config.ApiNamespace;
import com.google.inject.Inject;

@Api(name = "quizz", description = "The API for Quizz.us", version = "v1",
     namespace = @ApiNamespace(ownerDomain = "crowd-power.appspot.com",
                               ownerName = "crowd-power.appspot.com",
                               packagePath = "us.quizz.endpoints"))
public class ExplorationExploitationEndpoint {
  private ExplorationExploitationService explorationExploitationService;

  @Inject
  public ExplorationExploitationEndpoint(
      ExplorationExploitationService explorationExploitationService) {
    this.explorationExploitationService = explorationExploitationService;
  }

  @ApiMethod(name = "explorationExploitation", path="exploreOrExploit/{a}/{b}/{c}/{N}", httpMethod = HttpMethod.GET)
  public ExplorationExploitationService.Result exploreOrExploit(
      @Named("a") Integer a,
      @Named("b") Integer b,
      @Named("c") Integer c,
      @Named("N") Integer n) throws Exception {
	  
    explorationExploitationService.setN(n);
    ExplorationExploitationService.Result r =
        explorationExploitationService.getAction(a, b, c);
    return r;
  }
  

}
